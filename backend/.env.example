# Backend environment variables
APP_ENV=development
PORT=8000

# CORS / Origins
# Single origin (default)
FRONTEND_ORIGIN=http://localhost:3001
# Optional: comma-separated list to allow multiple origins (overrides FRONTEND_ORIGIN if set)
# FRONTEND_ORIGINS=http://localhost:3001,http://127.0.0.1:3001,http://localhost:3000

# Auth
JWT_SECRET=dev-secret
GOOGLE_CLIENT_ID=
NEXT_PUBLIC_GOOGLE_CLIENT_ID=

# Postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=learnova
POSTGRES_USER=learnova
POSTGRES_PASSWORD=learnova

# RabbitMQ / Celery
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672//
CELERY_RESULT_BACKEND=rpc://

# Qdrant
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION=learnova_chunks

# Filesystem storage
STORAGE_ROOT=/data/uploads

# Ollama / LLM
OLLAMA_HOST=http://ollama:11434
OLLAMA_TIMEOUT=600
LLM_MODEL=llama3.2:3b
SUMMARY_MODEL=
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_DIM=768
RERANK_ENABLED=true
RERANK_MODEL=
WHISPER_MODEL=small

# Ingestion / ytdlp
YTDLP_FORMAT=ba[ext=m4a]/bestaudio[ext=m4a]/140/bestaudio/best
YTDLP_RETRIES=3
YTDLP_FRAGMENT_RETRIES=3
YTDLP_CONCURRENT_FRAGMENTS=1
YTDLP_COOKIES=

# Rate limits (per IP per window)
RL_AUTH_PER_MIN=20
RL_CHAT_PER_MIN=30
RL_CHAT_STREAM_PER_MIN=60
RL_RAG_PER_MIN=30
RL_EMBED_PER_MIN=60
RL_VECTORS_PER_MIN=60
RL_SUMMARY_PER_MIN=10
RL_INGEST_PER_MIN=5

# Truncation sizes
MAX_CHAT_CHARS=8000
MAX_EMBED_CHARS=4000
MAX_VECTOR_CHARS=8000
